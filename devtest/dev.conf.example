# LifelineTTY dev loop configuration
# Copy this file to dev.conf and tailor it to your environment.
#
# All values are shell evaluated, so keep quotes around strings
# that contain spaces.

# SSH destination for your Raspberry Pi test node
PI_USER=pi
PI_HOST=192.168.20.106

# Absolute path where the lifelinetty binary lives on the Pi (avoid using the login home directory).
# Ensure the directory exists and the SSH user can write to it (e.g., `ssh $PI_USER@$PI_HOST sudo mkdir -p /opt/lifelinetty && ssh $PI_USER@$PI_HOST sudo chown $PI_USER /opt/lifelinetty`).
PI_BIN=/opt/lifelinetty/lifelinetty

# Path to the locally built binary that we copy up
LOCAL_BIN=target/debug/lifelinetty

# Arguments passed to BOTH the remote and local binaries.
# Stick to charter defaults (USB0 @ 9600 8N1) unless you intentionally probe another port/baud.
COMMON_ARGS="--run --device /dev/ttyUSB0 --baud 9600 --cols 16 --rows 2"

# You can optionally add args that only apply to the remote or local
# process. Leave blank to rely entirely on COMMON_ARGS.
REMOTE_ARGS=""
LOCAL_ARGS=""

# Command used for building before deployment. Override if you
# prefer release builds or cross compilation.
BUILD_CMD="cargo build"

# Terminal program used to open remote/local/log windows (needs to support --title and -- bash -lc).
TERMINAL_CMD=gnome-terminal

# Enable log watcher windows that tail /run/serial_lcd_cache on the Pi.
# Keep watchers inside CACHE_DIR to respect the storage policy and record per-scenario snapshots (e.g., /run/serial_lcd_cache/milestone1/baseline).
ENABLE_LOG_PANE=true
LOG_WATCH_CMD="watch -n 0.5 ls -lh /run/serial_lcd_cache"

# Pattern used to kill any stale remote processes before launching.
# Stop lifelinetty.service on the Pi before running this loop to avoid device contention.
PKILL_PATTERN=lifelinetty
